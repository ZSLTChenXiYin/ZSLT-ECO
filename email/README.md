# 邮件服务

## 服务说明
### gRPC 接口
* 创建邮箱
* 创建邮件模板
* 发送邮件
* 附加模板发送邮件
### 使用说明
1. 创建邮箱，该邮箱用于随机选取作为发送方邮箱，数据库中至少存在一个邮箱才能正常提供服务
2. 创建邮件模板，该模板用于发送邮件中使用，模板中包含变量，变量使用 {{.变量名}} 语法，变量名必须与模板参数一致
3. 发送邮件，Args 参数用于填充模板变量，仅支持 JSON 格式
4. 附加模板发送邮件，该接口用于发送邮件时附加临时模板，该接口与发送邮件接口一致
### HTTP 接口（开发中）
* 创建邮箱
* 获取邮箱列表（扩展）
* 更新邮箱（扩展）
* 删除邮箱（扩展）
* 创建邮件模板
* 获取邮件模板列表（扩展）
* 更新邮件模板（扩展）
* 删除邮件模板（扩展）
* 发送邮件
* 附加模板发送邮件

## 构建服务
```bash
go build -ldflags "-s -w -X main.Name=email -X main.Version=1.0.0 -X main.Build=$(date +%Y%m%d) -X 'main.id=email-ChenXiYin-$(date +%s)'" -o email ./cmd/email
```

## 运行服务
```bash
./email -conf ./configs/config.yaml
```
